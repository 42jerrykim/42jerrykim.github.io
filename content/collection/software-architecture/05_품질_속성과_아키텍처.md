---
draft: true
---
# 5ì¥. í’ˆì§ˆ ì†ì„±ê³¼ ì•„í‚¤í…ì²˜

## ğŸ“‹ í•™ìŠµ ëª©í‘œ
- ì•„í‚¤í…ì²˜ í’ˆì§ˆ ì†ì„±ì˜ ê°œë…ê³¼ ì¤‘ìš”ì„±ì„ ì´í•´í•œë‹¤
- ì„±ëŠ¥, í™•ì¥ì„±, ê°€ìš©ì„±, ë³´ì•ˆì„±, ìœ ì§€ë³´ìˆ˜ì„±ì˜ êµ¬ì²´ì  ìš”êµ¬ì‚¬í•­ì„ íŒŒì•…í•œë‹¤
- í’ˆì§ˆ ì†ì„± ê°„ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„ ê´€ê³„ë¥¼ ë¶„ì„í•œë‹¤
- ì•„í‚¤í…ì²˜ ê²°ì •ì´ í’ˆì§ˆ ì†ì„±ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ í‰ê°€í•œë‹¤

---

## 5.1 ì„±ëŠ¥ (Performance)

### 5.1.1 ì„±ëŠ¥ì˜ í•µì‹¬ ë©”íŠ¸ë¦­

#### ì‘ë‹µ ì‹œê°„ (Response Time)
- **ì •ì˜**: ìš”ì²­ë¶€í„° ì‘ë‹µê¹Œì§€ì˜ ì‹œê°„
- **ì¸¡ì • ë°©ë²•**: í‰ê· , ìµœëŒ€, ë°±ë¶„ìœ„ìˆ˜(P95, P99)
- **ëª©í‘œ ì„¤ì •**: ì‚¬ìš©ì ê²½í—˜ ê¸°ë°˜ ì„ê³„ê°’

#### ì²˜ë¦¬ëŸ‰ (Throughput)
- **ì •ì˜**: ë‹¨ìœ„ ì‹œê°„ë‹¹ ì²˜ë¦¬ ê°€ëŠ¥í•œ ìš”ì²­ ìˆ˜
- **ì¸¡ì • ë‹¨ìœ„**: TPS(Transactions Per Second), RPS(Requests Per Second)
- **í™•ì¥ ì „ëµ**: ìˆ˜í‰/ìˆ˜ì§ í™•ì¥ì„ í†µí•œ ì²˜ë¦¬ëŸ‰ ì¦ëŒ€

### 5.1.2 ì„±ëŠ¥ ìµœì í™” ì „ëµ

#### ìºì‹± ì „ëµ
```java
// Redisë¥¼ í™œìš©í•œ ìºì‹± êµ¬í˜„
@Service
public class ProductService {
    
    @Autowired
    private ProductRepository productRepository;
    
    @Autowired
    private RedisTemplate<String, Object> redisTemplate;
    
    @Cacheable(value = "products", key = "#productId")
    public Product getProduct(String productId) {
        // ìºì‹œ ë¯¸ìŠ¤ ì‹œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒ
        return productRepository.findById(productId)
            .orElseThrow(() -> new ProductNotFoundException("ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"));
    }
    
    @CacheEvict(value = "products", key = "#product.id")
    public Product updateProduct(Product product) {
        return productRepository.save(product);
    }
}
```

#### ë¹„ë™ê¸° ì²˜ë¦¬
```java
// ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í†µí•œ ì„±ëŠ¥ ê°œì„ 
@Service
public class OrderService {
    
    @Async
    @EventListener
    public void handleOrderCreated(OrderCreatedEvent event) {
        // ì£¼ë¬¸ ìƒì„± í›„ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬
        CompletableFuture.allOf(
            CompletableFuture.runAsync(() -> sendOrderConfirmationEmail(event)),
            CompletableFuture.runAsync(() -> updateInventory(event)),
            CompletableFuture.runAsync(() -> notifyWarehouse(event))
        ).join();
    }
    
    private void sendOrderConfirmationEmail(OrderCreatedEvent event) {
        // ì´ë©”ì¼ ë°œì†¡ ë¡œì§
        emailService.sendOrderConfirmation(event.getCustomerId(), event.getOrderId());
    }
}
```

---

## 5.2 í™•ì¥ì„± (Scalability)

### 5.2.1 í™•ì¥ ë°©ì‹

#### ìˆ˜ì§ í™•ì¥ (Scale Up)
- **ì •ì˜**: í•˜ë“œì›¨ì–´ ì„±ëŠ¥ í–¥ìƒ (CPU, ë©”ëª¨ë¦¬ ì¦ê°€)
- **ì¥ì **: êµ¬í˜„ì´ ë‹¨ìˆœ, ë°ì´í„° ì¼ê´€ì„± ìœ ì§€ ìš©ì´
- **ë‹¨ì **: ë¬¼ë¦¬ì  í•œê³„ ì¡´ì¬, ë¹„ìš© ì¦ê°€

#### ìˆ˜í‰ í™•ì¥ (Scale Out)
- **ì •ì˜**: ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ ì¦ê°€
- **ì¥ì **: ì´ë¡ ì ìœ¼ë¡œ ë¬´í•œ í™•ì¥ ê°€ëŠ¥, ë¹„ìš© íš¨ìœ¨ì 
- **ë‹¨ì **: ë³µì¡ì„± ì¦ê°€, ë°ì´í„° ì¼ê´€ì„± ê´€ë¦¬ ì–´ë ¤ì›€

### 5.2.2 í™•ì¥ì„± ì„¤ê³„ ì›ì¹™

#### ë¬´ìƒíƒœ ì„¤ê³„ (Stateless Design)
```java
// ë¬´ìƒíƒœ REST API ì„¤ê³„
@RestController
public class UserController {
    
    @GetMapping("/api/users/{userId}")
    public ResponseEntity<User> getUser(@PathVariable String userId, 
                                       HttpServletRequest request) {
        // JWTì—ì„œ ì¸ì¦ ì •ë³´ ì¶”ì¶œ (ì„¸ì…˜ ìƒíƒœ ì—†ìŒ)
        String token = extractTokenFromHeader(request);
        Claims claims = jwtService.parseToken(token);
        
        // ìƒíƒœ ì •ë³´ë¥¼ ì™¸ë¶€ ì €ì¥ì†Œì—ì„œ ì¡°íšŒ
        User user = userService.findById(userId);
        return ResponseEntity.ok(user);
    }
}
```

#### ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”©
```java
// ìƒ¤ë”© ì „ëµ êµ¬í˜„
@Component
public class UserShardingStrategy {
    
    public String determineShardKey(String userId) {
        // ì‚¬ìš©ì ID ê¸°ë°˜ í•´ì‹œ ìƒ¤ë”©
        int hash = userId.hashCode();
        int shardIndex = Math.abs(hash) % 4; // 4ê°œ ìƒ¤ë“œ
        return "shard_" + shardIndex;
    }
    
    public DataSource getDataSource(String shardKey) {
        return shardDataSources.get(shardKey);
    }
}
```

---

## 5.3 ê°€ìš©ì„± (Availability)

### 5.3.1 ê°€ìš©ì„± ë©”íŠ¸ë¦­

#### ì—…íƒ€ì„ ëª©í‘œ
- **99.9%**: ì—°ê°„ 8.76ì‹œê°„ ë‹¤ìš´íƒ€ì„ í—ˆìš©
- **99.99%**: ì—°ê°„ 52.56ë¶„ ë‹¤ìš´íƒ€ì„ í—ˆìš©  
- **99.999%**: ì—°ê°„ 5.26ë¶„ ë‹¤ìš´íƒ€ì„ í—ˆìš©

### 5.3.2 ê³ ê°€ìš©ì„± ì„¤ê³„ íŒ¨í„´

#### Circuit Breaker íŒ¨í„´
```java
// Hystrixë¥¼ í™œìš©í•œ Circuit Breaker êµ¬í˜„
@Service
public class PaymentService {
    
    @HystrixCommand(
        fallbackMethod = "fallbackPayment",
        commandProperties = {
            @HystrixProperty(name = "circuitBreaker.requestVolumeThreshold", value = "20"),
            @HystrixProperty(name = "circuitBreaker.errorThresholdPercentage", value = "50"),
            @HystrixProperty(name = "circuitBreaker.sleepWindowInMilliseconds", value = "5000")
        }
    )
    public PaymentResult processPayment(String orderId, BigDecimal amount) {
        // ì™¸ë¶€ ê²°ì œ ì„œë¹„ìŠ¤ í˜¸ì¶œ
        return externalPaymentClient.processPayment(orderId, amount);
    }
    
    public PaymentResult fallbackPayment(String orderId, BigDecimal amount) {
        // ì¥ì•  ìƒí™©ì—ì„œì˜ ëŒ€ì²´ ì²˜ë¦¬
        return PaymentResult.pending("ê²°ì œ ì„œë¹„ìŠ¤ ì¼ì‹œ ì¤‘ë‹¨, ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‹œë„ë©ë‹ˆë‹¤");
    }
}
```

#### ì¥ì•  ê²©ë¦¬ (Bulkhead Pattern)
```java
// ìŠ¤ë ˆë“œ í’€ ê²©ë¦¬ë¥¼ í†µí•œ ì¥ì•  ê²©ë¦¬
@Configuration
public class ThreadPoolConfig {
    
    @Bean("orderProcessingExecutor")
    public Executor orderProcessingExecutor() {
        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
        executor.setCorePoolSize(5);
        executor.setMaxPoolSize(10);
        executor.setQueueCapacity(100);
        executor.setThreadNamePrefix("OrderProcessing-");
        return executor;
    }
    
    @Bean("paymentProcessingExecutor")  
    public Executor paymentProcessingExecutor() {
        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
        executor.setCorePoolSize(3);
        executor.setMaxPoolSize(6);
        executor.setQueueCapacity(50);
        executor.setThreadNamePrefix("PaymentProcessing-");
        return executor;
    }
}
```

---

## 5.4 ë³´ì•ˆì„± (Security)

### 5.4.1 ë³´ì•ˆ ì›ì¹™

#### ê¸°ë°€ì„± (Confidentiality)
- **ë°ì´í„° ì•”í˜¸í™”**: ì „ì†¡ ì¤‘(TLS) ë° ì €ì¥ ì‹œ(AES) ì•”í˜¸í™”
- **ì ‘ê·¼ ì œì–´**: ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´(RBAC)
- **í† í° ê¸°ë°˜ ì¸ì¦**: JWT, OAuth 2.0 í™œìš©

#### ë¬´ê²°ì„± (Integrity)
- **ë””ì§€í„¸ ì„œëª…**: ë°ì´í„° ë³€ì¡° ë°©ì§€
- **ì²´í¬ì„¬**: ë°ì´í„° ì „ì†¡ ì˜¤ë¥˜ ê²€ì¦
- **ê°ì‚¬ ë¡œê·¸**: ëª¨ë“  ë³€ê²½ ì‚¬í•­ ì¶”ì 

### 5.4.2 ë³´ì•ˆ êµ¬í˜„ ì˜ˆì œ

#### JWT ê¸°ë°˜ ì¸ì¦
```java
// JWT í† í° ìƒì„± ë° ê²€ì¦
@Service
public class JwtService {
    
    private final String SECRET_KEY = "mySecretKey";
    private final long EXPIRATION_TIME = 86400000; // 24ì‹œê°„
    
    public String generateToken(String username, List<String> roles) {
        return Jwts.builder()
            .setSubject(username)
            .claim("roles", roles)
            .setIssuedAt(new Date())
            .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME))
            .signWith(SignatureAlgorithm.HS512, SECRET_KEY)
            .compact();
    }
    
    public Claims parseToken(String token) {
        return Jwts.parser()
            .setSigningKey(SECRET_KEY)
            .parseClaimsJws(token)
            .getBody();
    }
    
    public boolean isTokenExpired(String token) {
        Claims claims = parseToken(token);
        return claims.getExpiration().before(new Date());
    }
}
```

#### ì…ë ¥ ê²€ì¦ ë° SQL ì¸ì ì…˜ ë°©ì§€
```java
// ì•ˆì „í•œ ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼
@Repository
public class UserRepository {
    
    @PersistenceContext
    private EntityManager entityManager;
    
    // PreparedStatement ì‚¬ìš©ìœ¼ë¡œ SQL ì¸ì ì…˜ ë°©ì§€
    public List<User> findUsersByRole(String role) {
        String query = "SELECT u FROM User u WHERE u.role = :role";
        return entityManager.createQuery(query, User.class)
            .setParameter("role", role)
            .getResultList();
    }
    
    // ì…ë ¥ ê²€ì¦
    public User createUser(CreateUserRequest request) {
        // ì…ë ¥ ê²€ì¦
        if (!isValidEmail(request.getEmail())) {
            throw new InvalidInputException("ì˜¬ë°”ë¥´ì§€ ì•Šì€ ì´ë©”ì¼ í˜•ì‹ì…ë‹ˆë‹¤");
        }
        
        if (!isStrongPassword(request.getPassword())) {
            throw new InvalidInputException("ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒ, íŠ¹ìˆ˜ë¬¸ì í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤");
        }
        
        // ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
        String hashedPassword = BCrypt.hashpw(request.getPassword(), BCrypt.gensalt());
        
        User user = new User(request.getUsername(), request.getEmail(), hashedPassword);
        return entityManager.merge(user);
    }
}
```

---

## 5.5 ìœ ì§€ë³´ìˆ˜ì„± (Maintainability)

### 5.5.1 ìœ ì§€ë³´ìˆ˜ì„± íŠ¹ì„±

#### ìˆ˜ì • ìš©ì´ì„± (Modifiability)
- **ëª¨ë“ˆí™”**: ê¸°ëŠ¥ë³„ ë…ë¦½ì ì¸ ëª¨ë“ˆ êµ¬ì„±
- **ëŠìŠ¨í•œ ê²°í•©**: ëª¨ë“ˆ ê°„ ì˜ì¡´ì„± ìµœì†Œí™”
- **ë†’ì€ ì‘ì§‘ë„**: ê´€ë ¨ ê¸°ëŠ¥ë“¤ì˜ ì§‘ì¤‘í™”

#### í…ŒìŠ¤íŠ¸ ìš©ì´ì„± (Testability)
- **ì˜ì¡´ì„± ì£¼ì…**: í…ŒìŠ¤íŠ¸ ë”ë¸” í™œìš©
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: ê°œë³„ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
- **í†µí•© í…ŒìŠ¤íŠ¸**: ì‹œìŠ¤í…œ ê°„ ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸

### 5.5.2 ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ ê¸°ë²•

#### SOLID ì›ì¹™ ì ìš©
```java
// ë‹¨ì¼ ì±…ì„ ì›ì¹™ (SRP) ì ìš©
public class EmailService {
    public void sendEmail(String to, String subject, String body) {
        // ì´ë©”ì¼ ë°œì†¡ë§Œ ë‹´ë‹¹
    }
}

public class EmailNotificationService {
    private EmailService emailService;
    
    public void sendOrderConfirmation(Order order) {
        String subject = "ì£¼ë¬¸ í™•ì¸: " + order.getId();
        String body = createOrderConfirmationBody(order);
        emailService.sendEmail(order.getCustomerEmail(), subject, body);
    }
}

// ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ (DIP) ì ìš©
public interface PaymentProcessor {
    PaymentResult process(PaymentRequest request);
}

public class CreditCardProcessor implements PaymentProcessor {
    @Override
    public PaymentResult process(PaymentRequest request) {
        // ì‹ ìš©ì¹´ë“œ ê²°ì œ ì²˜ë¦¬
        return new PaymentResult(true, "ê²°ì œ ì™„ë£Œ");
    }
}

public class PaymentService {
    private PaymentProcessor paymentProcessor;
    
    public PaymentService(PaymentProcessor paymentProcessor) {
        this.paymentProcessor = paymentProcessor;
    }
    
    public PaymentResult processPayment(PaymentRequest request) {
        return paymentProcessor.process(request);
    }
}
```

#### ìë™í™”ëœ í…ŒìŠ¤íŠ¸
```java
// ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì˜ˆì œ
@ExtendWith(MockitoExtension.class)
class OrderServiceTest {
    
    @Mock
    private OrderRepository orderRepository;
    
    @Mock
    private PaymentService paymentService;
    
    @InjectMocks
    private OrderService orderService;
    
    @Test
    void ì£¼ë¬¸_ìƒì„±_ì„±ê³µ() {
        // Given
        CreateOrderRequest request = new CreateOrderRequest("customer1", "product1", 2);
        when(paymentService.processPayment(any())).thenReturn(PaymentResult.success());
        
        // When
        Order result = orderService.createOrder(request);
        
        // Then
        assertThat(result.getStatus()).isEqualTo(OrderStatus.CONFIRMED);
        verify(orderRepository).save(any(Order.class));
    }
    
    @Test
    void ê²°ì œ_ì‹¤íŒ¨ì‹œ_ì£¼ë¬¸_ì‹¤íŒ¨() {
        // Given
        CreateOrderRequest request = new CreateOrderRequest("customer1", "product1", 2);
        when(paymentService.processPayment(any())).thenReturn(PaymentResult.failure("ê²°ì œ ì‹¤íŒ¨"));
        
        // When & Then
        assertThatThrownBy(() -> orderService.createOrder(request))
            .isInstanceOf(PaymentFailedException.class);
    }
}
```

---

## ğŸ¯ í’ˆì§ˆ ì†ì„± íŠ¸ë ˆì´ë“œì˜¤í”„ ë¶„ì„

### ì£¼ìš” íŠ¸ë ˆì´ë“œì˜¤í”„ ê´€ê³„

| **í’ˆì§ˆ ì†ì„± A** | **í’ˆì§ˆ ì†ì„± B** | **íŠ¸ë ˆì´ë“œì˜¤í”„ ê´€ê³„** | **í•´ê²° ë°©ì•ˆ** |
|---------------|---------------|-------------------|-------------|
| **ì„±ëŠ¥** | **ë³´ì•ˆ** | ì•”í˜¸í™”ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ | í•˜ë“œì›¨ì–´ ê°€ì†, íš¨ìœ¨ì  ì•Œê³ ë¦¬ì¦˜ |
| **ê°€ìš©ì„±** | **ì¼ê´€ì„±** | CAP ì •ë¦¬ì— ë”°ë¥¸ ì„ íƒ | Eventually Consistent ëª¨ë¸ |
| **í™•ì¥ì„±** | **ë‹¨ìˆœì„±** | ë¶„ì‚°ìœ¼ë¡œ ì¸í•œ ë³µì¡ì„± ì¦ê°€ | ì ì§„ì  í™•ì¥, ìë™í™” ë„êµ¬ |
| **ë³´ì•ˆ** | **ì‚¬ìš©ì„±** | ë³´ì•ˆ ê°•í™”ë¡œ ì¸í•œ ë³µì¡ì„± | UX ìµœì í™”, SSO ë„ì… |

### í’ˆì§ˆ ì†ì„± ìš°ì„ ìˆœìœ„ ê²°ì • í”„ë ˆì„ì›Œí¬

1. **ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ ë¶„ì„**: í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ ì‹ë³„
2. **ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ ë§¤í•‘**: ì£¼ìš” ì‚¬ìš© ì‚¬ë¡€ë³„ í’ˆì§ˆ ìš”êµ¬ì‚¬í•­
3. **ë¹„ìš©-íš¨ê³¼ ë¶„ì„**: í’ˆì§ˆ ê°œì„  ë¹„ìš© ëŒ€ë¹„ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜
4. **ìœ„í—˜ í‰ê°€**: í’ˆì§ˆ ì €í•˜ ì‹œ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥ë„ í‰ê°€

---

## ğŸ’­ ìƒê°í•´ë³´ê¸°

1. í˜„ì¬ ì‹œìŠ¤í…œì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ í’ˆì§ˆ ì†ì„±ì€ ë¬´ì—‡ì´ë©°, ê·¸ ì´ìœ ëŠ”?
2. ì„±ëŠ¥ê³¼ ë³´ì•ˆ ì‚¬ì´ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ì–´ë–»ê²Œ ê· í˜•ìˆê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ?
3. í™•ì¥ì„±ì„ ìœ„í•´ í¬ê¸°í•  ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ í’ˆì§ˆ ì†ì„±ì€ ë¬´ì—‡ì¸ê°€?

---

## ğŸ“š ì¶”ê°€ í•™ìŠµ ìë£Œ

### ë„ì„œ
- "Software Architecture in Practice" - SEI ì‹œë¦¬ì¦ˆ
- "Designing Data-Intensive Applications" - Martin Kleppmann
- "Release It!" - Michael Nygard

### ì˜¨ë¼ì¸ ìë£Œ
- High Scalability ì›¹ì‚¬ì´íŠ¸
- AWS Well-Architected Framework
- Google Cloud Architecture Center 