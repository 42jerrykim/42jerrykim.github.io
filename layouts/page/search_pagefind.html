{{ define "body-class" }}template-search{{ end }}

{{ define "head" }}
    <!-- Pagefind 리소스 -->
    <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
    
    <!-- 성능 최적화를 위한 리소스 힌트 -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="preconnect" href="/pagefind/" crossorigin>
    
    <!-- 검색 페이지 전용 CSS -->
    <link rel="stylesheet" href="/css/search-page.css">
{{ end }}

{{ define "main" }}
<form class="search-form" onsubmit="return false;">
    <p>
        <label>{{ T "search.title" }}</label>
        <input id="pagefind-search-input" name="keyword" placeholder="{{ T `search.placeholder` }}" />
    </p>
    <button type="button" title="{{ T `search.title` }}" onclick="SearchManager.performSearch()">
        {{ partial "helper/icon" "search" }}
    </button>
</form>

<div class="search-result">
    <h3 class="search-result--title section-title"></h3>
    <div class="search-result--list">
        <!-- Pagefind UI가 여기에 삽입됨 (숨겨짐) -->
        <div id="pagefind-search" style="display: none;"></div>
        <!-- 커스텀 검색 결과가 여기에 표시됨 -->
        <div id="custom-search-results" class="search-results-container"></div>
    </div>
</div>

<!-- 검색 페이지 전용 JavaScript -->
<script src="/js/search-page.js"></script>

<script>
// 전역 접근을 위한 별칭
window.performSearch = () => SearchManager.performSearch();
</script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1523508823345999"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-1523508823345999"
     data-ad-slot="2764508212"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
{{ partialCached "footer/footer" . }}
{{ end }}
