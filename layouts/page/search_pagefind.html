{{ define "body-class" }}template-search{{ end }}
{{ define "head" }}
    <!-- Pagefind ë¦¬ì†ŒìŠ¤ -->
    <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
    
    <!-- ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ë¦¬ì†ŒìŠ¤ íŒíŠ¸ -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="preconnect" href="/pagefind/" crossorigin>
    
    <!-- ì´ë¯¸ì§€ ìµœì í™”ë¥¼ ìœ„í•œ ë©”íƒ€ íƒœê·¸ -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
{{ end }}
{{ define "main" }}
<form class="search-form" onsubmit="return false;">
    <p>
        <label>{{ T "search.title" }}</label>
        <input id="pagefind-search-input" name="keyword" placeholder="{{ T `search.placeholder` }}" />
    </p>

    <button type="button" title="{{ T `search.title` }}" onclick="triggerSearch()">
        {{ partial "helper/icon" "search" }}
    </button>
</form>

<div class="search-result">
    <h3 class="search-result--title section-title"></h3>
    <div class="search-result--list article-list--compact">
        <div id="search"></div>
    </div>
</div>

<script>
/**
 * Pagefind ê²€ìƒ‰ í˜ì´ì§€ - ì´ë¯¸ì§€ ìµœì í™” ë° ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
 * 
 * ì£¼ìš” ê¸°ëŠ¥:
 * - Pagefind meta image ìš°ì„  ì‚¬ìš©
 * - ìŠ¤ë§ˆíŠ¸ ì´ë¯¸ì§€ í›„ë³´ ê²€ìƒ‰
 * - ìºì‹œ ê¸°ë°˜ ì„±ëŠ¥ ìµœì í™”
 * - ë‹¤ì–‘í•œ fallback ì´ë¯¸ì§€ ì§€ì›
 */

// ========================================
// ì „ì—­ ë³€ìˆ˜ ë° ì´ˆê¸°í™”
// ========================================

let pagefindInstance;

// ì´ë¯¸ì§€ URL ìºì‹œ ì‹œìŠ¤í…œ (ì„±ëŠ¥ ìµœì í™”)
const imageCache = new Map();

// ì‹¤íŒ¨í•œ URL ìºì‹œ (ì¤‘ë³µ ìš”ì²­ ë°©ì§€)
const failedUrls = new Set();

// ========================================
// ì´ë¯¸ì§€ ë¡œë”© ê´€ë ¨ ìœ í‹¸ë¦¬í‹°
// ========================================

/**
 * ì´ë¯¸ì§€ ìºì‹œ ê´€ë¦¬ ì‹œìŠ¤í…œ
 */
const ImageCacheManager = {
    /**
     * ìºì‹œì—ì„œ ì´ë¯¸ì§€ URL ê°€ì ¸ì˜¤ê¸°
     * @param {string} url - í˜ì´ì§€ URL
     * @returns {string|undefined} - ìºì‹œëœ ì´ë¯¸ì§€ URL ë˜ëŠ” undefined
     */
    get(url) {
        return imageCache.get(url);
    },

    /**
     * ì´ë¯¸ì§€ URLì„ ìºì‹œì— ì €ì¥
     * @param {string} url - í˜ì´ì§€ URL
     * @param {string} imageUrl - ì´ë¯¸ì§€ URL
     */
    set(url, imageUrl) {
        imageCache.set(url, imageUrl);
    },

    /**
     * ì‹¤íŒ¨í•œ URL í™•ì¸
     * @param {string} url - í™•ì¸í•  URL
     * @returns {boolean} - ì‹¤íŒ¨í•œ URLì¸ì§€ ì—¬ë¶€
     */
    isFailed(url) {
        return failedUrls.has(url);
    },

    /**
     * ì‹¤íŒ¨í•œ URL ì¶”ê°€
     * @param {string} url - ì‹¤íŒ¨í•œ URL
     */
    addFailed(url) {
        failedUrls.add(url);
    }
};

/**
 * ì´ë¯¸ì§€ ì—˜ë¦¬ë¨¼íŠ¸ ìƒì„± - ê²€ìƒ‰ ê²°ê³¼ì— ì´ë¯¸ì§€ ì¶”ê°€
 * @param {HTMLElement} result - ê²€ìƒ‰ ê²°ê³¼ ì—˜ë¦¬ë¨¼íŠ¸
 * @param {HTMLElement} link - ë§í¬ ì—˜ë¦¬ë¨¼íŠ¸ 
 * @param {string} imageUrl - ì´ë¯¸ì§€ URL
 */
function createImageElement(result, link, imageUrl) {
        const imageContainer = document.createElement('div');
        imageContainer.className = 'search-result-image';

        const img = document.createElement('img');
        img.alt = link.textContent;
        img.loading = 'lazy';
        
        // ì¦‰ì‹œ ì´ë¯¸ì§€ ë¡œë”© ì‹œì‘ (ë·°í¬íŠ¸ ì§„ì…ì„ ê¸°ë‹¤ë¦¬ì§€ ì•ŠìŒ)
        img.src = imageUrl;
        
        // ì´ë¯¸ì§€ ë¡œë”© ì„±ê³µ ì‹œ ìºì‹œì— ì €ì¥
        img.onload = function() {
            console.log('âœ… ì´ë¯¸ì§€ ë¡œë”© ì™„ë£Œ:', img.src);
            const pageUrl = link.href;
            if (pageUrl) {
                ImageCacheManager.set(pageUrl, img.src);
            }
        };
        
        // ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ ì‹œ ì²˜ë¦¬
        img.onerror = function() {
            console.log('âŒ ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨:', imageUrl);
            
            // ê¸°ë³¸ ì´ë¯¸ì§€ë‚˜ ëŒ€ì²´ ì´ë¯¸ì§€ ì‹œë„
            if (!img.hasAttribute('data-fallback-tried')) {
                img.setAttribute('data-fallback-tried', 'true');
                
                // tmp_wordcloud.png ì‹œë„ (ì‹¤ì œë¡œ ê°€ì¥ ë§ì´ ì¡´ì¬í•˜ëŠ” íŒŒì¼)
                const tmpWordcloudUrl = imageUrl.replace(/\/[^\/]+\.(png|jpg|jpeg|gif|webp)$/i, '/tmp_wordcloud.png');
                if (tmpWordcloudUrl !== imageUrl) {
                    console.log('ğŸ”„ TMP ì›Œë“œí´ë¼ìš°ë“œ ì´ë¯¸ì§€ ì‹œë„:', tmpWordcloudUrl);
                    img.src = tmpWordcloudUrl;
                    return;
                }
                
                // wordcloud.png ì‹œë„
                const wordcloudUrl = imageUrl.replace(/\/[^\/]+\.(png|jpg|jpeg|gif|webp)$/i, '/wordcloud.png');
                if (wordcloudUrl !== imageUrl) {
                    console.log('ğŸ”„ ì›Œë“œí´ë¼ìš°ë“œ ì´ë¯¸ì§€ ì‹œë„:', wordcloudUrl);
                    img.src = wordcloudUrl;
                    return;
                }
                
                // index.png ì‹œë„
                const indexUrl = imageUrl.replace(/\/[^\/]+\.(png|jpg|jpeg|gif|webp)$/i, '/index.png');
                if (indexUrl !== imageUrl) {
                    console.log('ğŸ”„ ì¸ë±ìŠ¤ ì´ë¯¸ì§€ ì‹œë„:', indexUrl);
                    img.src = indexUrl;
                    return;
                }
                
                // ìµœì¢… fallback: ê¸°ë³¸ ì•„ë°”íƒ€ ì´ë¯¸ì§€ (í™•ì‹¤íˆ ì¡´ì¬í•˜ëŠ” ì´ë¯¸ì§€)
                console.log('ğŸ”„ ìµœì¢… fallback ì´ë¯¸ì§€ ì‹œë„:', '/img/avatar_hu_a8bb2d700b228ae8.png');
                img.src = '/img/avatar_hu_a8bb2d700b228ae8.png';
                img.setAttribute('data-final-fallback', 'true');
                return;
            }
            
            // ìµœì¢… fallbackë„ ì‹¤íŒ¨í•œ ê²½ìš°ì—ë§Œ ì»¨í…Œì´ë„ˆ ì œê±°
            if (img.hasAttribute('data-final-fallback')) {
                console.log('ğŸ’¥ ìµœì¢… fallbackë„ ì‹¤íŒ¨, ì»¨í…Œì´ë„ˆ ì œê±°');
                if (imageContainer.parentNode) {
                    imageContainer.parentNode.removeChild(imageContainer);
                }
            }
        };

        imageContainer.appendChild(img);

        // ê²€ìƒ‰ ê²°ê³¼ êµ¬ì¡° ë³€ê²½
        const resultContent = document.createElement('div');
        resultContent.className = 'search-result-content';

        // ê¸°ì¡´ ë‚´ìš©ì„ ìƒˆ ì»¨í…Œì´ë„ˆë¡œ ì´ë™
        while (result.firstChild) {
            resultContent.appendChild(result.firstChild);
        }

        // ì´ë¯¸ì§€ì™€ ë‚´ìš©ì„ ê²°ê³¼ì— ì¶”ê°€
        result.appendChild(imageContainer);
        result.appendChild(resultContent);
    }
    
/**
 * í”Œë ˆì´ìŠ¤í™€ë” ì—˜ë¦¬ë¨¼íŠ¸ ìƒì„± - ì´ë¯¸ì§€ê°€ ì—†ëŠ” ê²½ìš° ì‚¬ìš©
 * @param {HTMLElement} result - ê²€ìƒ‰ ê²°ê³¼ ì—˜ë¦¬ë¨¼íŠ¸
 */
function createPlaceholderElement(result) {
        const imageContainer = document.createElement('div');
        imageContainer.className = 'search-result-image search-result-image--placeholder';
        
        const resultContent = document.createElement('div');
        resultContent.className = 'search-result-content';
        
        while (result.firstChild) {
            resultContent.appendChild(result.firstChild);
        }
        
        result.appendChild(imageContainer);
        result.appendChild(resultContent);
    }
    
    window.addEventListener('DOMContentLoaded', (event) => {
        // PagefindUI ì´ˆê¸°í™” ì‹œ ê²€ìƒ‰ ì…ë ¥ ìˆ¨ê¸°ê¸°
        pagefindInstance = new PagefindUI({ 
            element: "#search", 
            showSubResults: true,
            showEmptyFilters: true,
            resetStyles: false,
            autofocus: false,
            processResult: function(result) {
                // ì œëª© ì²˜ë¦¬ ê°œì„ : meta.titleì´ ìˆìœ¼ë©´ ì‚¬ìš©í•˜ê³ , ì—†ìœ¼ë©´ urlì—ì„œ ì¶”ì¶œ
                if (result.meta && result.meta.title) {
                    result.meta.title = result.meta.title.trim();
                } else {
                    // URLì—ì„œ ì œëª© ì¶”ì¶œ ì‹œë„
                    const url = result.url || '';
                    const segments = url.split('/').filter(s => s);
                    if (segments.length > 0) {
                        // ë§ˆì§€ë§‰ segmentë¥¼ ì œëª©ìœ¼ë¡œ ì‚¬ìš© (ì¼ë°˜ì ìœ¼ë¡œ slug)
                        let titleFromUrl = segments[segments.length - 1];
                        titleFromUrl = titleFromUrl.replace(/-/g, ' ');
                        titleFromUrl = titleFromUrl.replace(/\b\w/g, l => l.toUpperCase());
                        result.meta.title = titleFromUrl;
                    }
                }
                
                // ì‘ì„±ì ì •ë³´ê°€ "42jerrykim"ìœ¼ë¡œ ì˜ëª» ì„¤ì •ëœ ê²½ìš° ì œê±°
                if (result.meta && result.meta.author === "42jerrykim") {
                    delete result.meta.author;
                }
                
                // ì´ë¯¸ì§€ ì²˜ë¦¬ ë¡œì§ ì¶”ê°€ - pagefind meta image ì‚¬ìš©
                let imageUrl = null;
                if (result.meta && result.meta.image) {
                    imageUrl = result.meta.image.trim();
                    console.log('ğŸ“‹ Pagefind Meta ì´ë¯¸ì§€ ë°œê²¬:', imageUrl, 'for', result.url);
                    
                    // ìƒëŒ€ ê²½ë¡œì¸ ê²½ìš° ì ˆëŒ€ ê²½ë¡œë¡œ ë³€í™˜
                    if (imageUrl.startsWith('/')) {
                        imageUrl = window.location.origin + imageUrl;
                    } else if (!imageUrl.startsWith('http')) {
                        // assets/imagesë¡œ ì‹œì‘í•˜ëŠ” ê²½ìš° ë“±
                        imageUrl = window.location.origin + '/' + imageUrl;
                    }
                    
                    console.log('âœ… Pagefind Meta ì´ë¯¸ì§€ ì²˜ë¦¬ë¨:', imageUrl);
                } else {
                    console.log('âŒ Pagefind Meta ì´ë¯¸ì§€ ì—†ìŒ for:', result.url);
                }
                
                // ì´ë¯¸ì§€ URLì„ resultì— ì¶”ê°€
                result.customImage = imageUrl;
                
                return result;
            },
            translations: {
                placeholder: "ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”...",
                clear_search: "ê²€ìƒ‰ ì§€ìš°ê¸°",
                load_more: "ë” ë³´ê¸°",
                search_label: "ì‚¬ì´íŠ¸ ê²€ìƒ‰",
                filters_label: "í•„í„°",
                zero_results: "ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤: [SEARCH_TERM]",
                many_results: "[COUNT]ê°œì˜ ê²°ê³¼ê°€ ìˆìŠµë‹ˆë‹¤: [SEARCH_TERM]",
                one_result: "1ê°œì˜ ê²°ê³¼ê°€ ìˆìŠµë‹ˆë‹¤: [SEARCH_TERM]",
                alt_search: "ê²€ìƒ‰: [SEARCH_TERM]",
                search_suggestion: "ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”",
                searching: "ê²€ìƒ‰ ì¤‘..."
            }
        });
        
        // PagefindUIì˜ ê¸°ë³¸ ê²€ìƒ‰ ì…ë ¥ ìˆ¨ê¸°ê¸°
        setTimeout(() => {
            const pagefindInput = document.querySelector('.pagefind-ui__search-input');
            if (pagefindInput) {
                pagefindInput.style.display = 'none';
            }
            
            // ê²€ìƒ‰ ê²°ê³¼ê°€ ë Œë”ë§ëœ í›„ ì´ë¯¸ì§€ ì¶”ê°€
            addImagesToResults();
        }, 100);
        
        // debounce ìœ í‹¸ í•¨ìˆ˜ ì¶”ê°€
        function debounce(func, wait) {
            let timeout;
            return function(...args) {
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(this, args), wait);
            };
        }

        // ì´ë¯¸ì§€ ì‚½ì…ì„ debounce ì²˜ë¦¬ (ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ì‹œê°„ ë‹¨ì¶•)
        const debouncedAddImagesToResults = debounce(addImagesToResults, 150);
        
        // ê²€ìƒ‰ ê²°ê³¼ ë³€ê²½ ê°ì§€ (ì„±ëŠ¥ ìµœì í™”)
        const observer = new MutationObserver(function(mutations) {
            let needUpdate = false;
            mutations.forEach(function(mutation) {
                if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                    // ì‹¤ì œ ê²€ìƒ‰ ê²°ê³¼ê°€ ì¶”ê°€ëœ ê²½ìš°ë§Œ ì²´í¬
                    for (let node of mutation.addedNodes) {
                        if (node.nodeType === Node.ELEMENT_NODE && 
                            (node.classList.contains('pagefind-ui__result') || 
                             node.querySelector && node.querySelector('.pagefind-ui__result'))) {
                            needUpdate = true;
                            break;
                        }
                    }
                }
            });
            if (needUpdate) {
                debouncedAddImagesToResults();
                // í•œ ë²ˆë§Œ ì¶”ê°€ ì‹œë„ (ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€)
                setTimeout(addImagesToResults, 300);
            }
        });
        
        const searchContainer = document.getElementById('search');
        if (searchContainer) {
            observer.observe(searchContainer, { childList: true, subtree: true });
        }
        
        // URL íŒŒë¼ë¯¸í„°ì—ì„œ ê²€ìƒ‰ì–´ ì¶”ì¶œ
        const urlParams = new URLSearchParams(window.location.search);
        const searchQuery = urlParams.get('keyword') || urlParams.get('q') || urlParams.get('search');
        
        if (searchQuery) {
            document.getElementById('pagefind-search-input').value = searchQuery;
            // ì ì‹œ í›„ ê²€ìƒ‰ ì‹¤í–‰ (PagefindUIê°€ ì™„ì „íˆ ë¡œë“œëœ í›„)
            setTimeout(() => {
                triggerSearch();
            }, 500);
        }
        
        // ì»¤ìŠ¤í…€ ê²€ìƒ‰ ì…ë ¥ê³¼ PagefindUI ì—°ê²°
        const customInput = document.getElementById('pagefind-search-input');
        customInput.addEventListener('input', function() {
            const pagefindInput = document.querySelector('.pagefind-ui__search-input');
            if (pagefindInput) {
                pagefindInput.value = this.value;
                pagefindInput.dispatchEvent(new Event('input'));
            }
            updateSearchResultTitle(this.value);
        });
        
        // ì—”í„° í‚¤ ê²€ìƒ‰ ì§€ì›
        customInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                triggerSearch();
            }
        });
    });

function addImagesToResults() {
        const results = document.querySelectorAll('.pagefind-ui__result:not(.image-processed)');
        results.forEach(result => {
            result.classList.add('image-processed');

            // ì´ë¯¸ ì´ë¯¸ì§€ê°€ ìˆëŠ” ê²°ê³¼ëŠ” ê±´ë„ˆë›°ê¸°
            if (result.querySelector('.search-result-image')) {
                return;
            }

            // ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ì´ë¯¸ì§€ ë©”íƒ€ë°ì´í„° ì°¾ê¸°
            const link = result.querySelector('.pagefind-ui__result-link');
            if (!link) return;

            const url = link.href;
            
            // 1. ë¨¼ì € pagefind meta imageê°€ ìˆëŠ”ì§€ í™•ì¸ (ìƒˆë¡œìš´ ë°©ì‹)
            // ì´ë¯¸ processResultì—ì„œ ì²˜ë¦¬ëœ customImageë¥¼ ê²°ê³¼ì—ì„œ ì°¾ê¸°
            let pagefindMetaImage = null;
            
            // pagefind result dataì—ì„œ customImage ê°€ì ¸ì˜¤ê¸° ì‹œë„
            const resultData = result._pagefindResult;
            if (resultData && resultData.customImage) {
                pagefindMetaImage = resultData.customImage;
                console.log('ğŸ“‹ Pagefind Meta ì´ë¯¸ì§€ ë°œê²¬ (ê²°ê³¼ì—ì„œ):', pagefindMetaImage);
            }

            if (pagefindMetaImage) {
                console.log('âœ… Pagefind Meta ì´ë¯¸ì§€ ì§ì ‘ ì‚¬ìš©:', pagefindMetaImage);
                createImageElement(result, link, pagefindMetaImage);
                ImageCacheManager.set(url, pagefindMetaImage);
                return;
            }

            // 2. ì´ë¯¸ì§€ ìºì‹œ í™•ì¸ í›„ ì‹¤ì œ í˜ì´ì§€ì—ì„œ í—¤ë” ì´ë¯¸ì§€ ì¶”ì¶œ ì‹œë„
            const cachedImageUrl = ImageCacheManager.get(url);
            if (cachedImageUrl) {
                console.log('ğŸ’¾ ìºì‹œëœ ì´ë¯¸ì§€ ì‚¬ìš©:', url, 'â†’', cachedImageUrl);
                if (cachedImageUrl !== 'NO_IMAGE') {
                    createImageElement(result, link, cachedImageUrl);
                } else {
                    createPlaceholderElement(result);
                }
            } else {
                console.log('ğŸ” ìƒˆë¡œìš´ ì´ë¯¸ì§€ ê²€ìƒ‰ ì‹œì‘:', url);
                fetchHeaderImage(url).then(headerImageUrl => {
                    // resultê°€ ì—¬ì „íˆ DOMì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸ (ë¹„ë™ê¸° fetch ì¤‘ DOM ë³€ê²½ ë°©ì§€)
                    if (!document.body.contains(result)) return;
                    
                    // ì´ë¯¸ì§€ URLì„ ìºì‹œì— ì €ì¥ (nullì¸ ê²½ìš° 'NO_IMAGE'ë¡œ ì €ì¥í•˜ì—¬ ì¬ì‹œë„ ë°©ì§€)
                    ImageCacheManager.set(url, headerImageUrl || 'NO_IMAGE');
                    
                    if (headerImageUrl) {
                        console.log('âœ… ì´ë¯¸ì§€ ë°œê²¬ ë° ìƒì„±:', headerImageUrl);
                        createImageElement(result, link, headerImageUrl);
                    } else {
                        console.log('ğŸ“­ ì´ë¯¸ì§€ ì—†ìŒ, í”Œë ˆì´ìŠ¤í™€ë” ìƒì„±');
                        createPlaceholderElement(result);
                    }
                }).catch((error) => {
                    console.log('âŒ ì´ë¯¸ì§€ ê²€ìƒ‰ ì‹¤íŒ¨:', error);
                    ImageCacheManager.set(url, 'NO_IMAGE'); // ì‹¤íŒ¨ë„ ìºì‹œí•˜ì—¬ ì¬ì‹œë„ ë°©ì§€
                    createPlaceholderElement(result);
                });
            }
        });
    }
// ========================================
// ì´ë¯¸ì§€ í›„ë³´ ìƒì„± ì‹œìŠ¤í…œ
// ========================================

/**
 * ì´ë¯¸ì§€ í›„ë³´ ìƒì„±ê¸° - ë‹¤ì–‘í•œ ì´ë¯¸ì§€ ì†ŒìŠ¤ë¥¼ ì‹œë„
 */
const ImageCandidateGenerator = {
    /**
     * ìš°ì„ ìˆœìœ„ ì´ë¯¸ì§€ íŒŒì¼ëª…ë“¤ (ì‹¤ì œ ì»¨í…ì¸  ì´ë¯¸ì§€)
     */
    priorityFiles: [
        'poster.webp',        // TV Show ë“±ì—ì„œ ì£¼ë¡œ ì‚¬ìš©
        'poster.jpg',
        'poster.png',
        'image.webp',
        'image.jpg',
        'image.png'
    ],

    /**
     * ê¸°ë³¸ ì´ë¯¸ì§€ íŒŒì¼ëª…ë“¤ (ìƒì„±ëœ ì´ë¯¸ì§€)
     */
    basicFiles: [
        'tmp_wordcloud.png',
        'index.png',
        'wordcloud.png',
        'index_wordcloud.png'
    ],

    /**
     * ì¹´í…Œê³ ë¦¬ë³„ fallback ì´ë¯¸ì§€ ë§¤í•‘
     */
    categoryImages: {
        'algorithm': '/img/avatar_hu_a8bb2d700b228ae8.png',
        'python': '/img/avatar_hu_a8bb2d700b228ae8.png',
        'computerterms': '/img/avatar_hu_a8bb2d700b228ae8.png',
        'tv-show': '/img/avatar_hu_a8bb2d700b228ae8.png',
        'design-patterns': '/img/avatar_hu_a8bb2d700b228ae8.png',
        'clean-code': '/img/avatar_hu_a8bb2d700b228ae8.png'
    },

    /**
     * í˜ì´ì§€ URLì—ì„œ ì´ë¯¸ì§€ í›„ë³´ë“¤ì„ ìƒì„±
     * @param {string} pageUrl - í˜ì´ì§€ URL
     * @returns {string[]} - ì´ë¯¸ì§€ í›„ë³´ URL ë°°ì—´ (ìš°ì„ ìˆœìœ„ ìˆœ)
     */
    generate(pageUrl) {
        const url = new URL(pageUrl, window.location.origin);
        const basePath = url.pathname.endsWith('/') ? url.pathname.slice(0, -1) : url.pathname;
        const candidates = [];

        // 1. ìš°ì„ ìˆœìœ„ ì´ë¯¸ì§€ë“¤ (ì‹¤ì œ ì»¨í…ì¸ )
        this.priorityFiles.forEach(filename => {
            candidates.push(`${basePath}/${filename}`);
        });

        // 2. ê¸°ë³¸ ìƒì„± ì´ë¯¸ì§€ë“¤
        this.basicFiles.forEach(filename => {
            candidates.push(`${basePath}/${filename}`);
        });

        // 3. ì¹´í…Œê³ ë¦¬ë³„ fallback ì´ë¯¸ì§€
        const pathSegments = basePath.split('/');
        if (pathSegments.length >= 3) {
            const category = pathSegments[2]; // /post/category/...ì—ì„œ category ì¶”ì¶œ
            
            if (this.categoryImages[category]) {
                candidates.push(this.categoryImages[category]);
            }
        }

        // 4. ìµœì¢… fallback ì´ë¯¸ì§€
        candidates.push('/img/avatar_hu_a8bb2d700b228ae8.png');

        return candidates;
    }
};


    

// ========================================
// ë¡œê¹… ì‹œìŠ¤í…œ
// ========================================

/**
 * ê°œì„ ëœ ë¡œê¹… ì‹œìŠ¤í…œ - êµ¬ì¡°í™”ëœ ë¡œê·¸ ë©”ì‹œì§€ (ì‚¬ìš©ë˜ëŠ” í•¨ìˆ˜ë§Œ í¬í•¨)
 */
const Logger = {
    /**
     * ì´ë¯¸ì§€ ê´€ë ¨ ë¡œê·¸
     */
    image: {
        found: (url, source = '') => console.log(`âœ… ì´ë¯¸ì§€ ë°œê²¬${source ? ` (${source})` : ''}:`, url),
        loading: (url) => console.log('ğŸ” ì´ë¯¸ì§€ ë¡œë”© ì‹œì‘:', url),
        failed: (url, reason = '') => console.log(`âŒ ì´ë¯¸ì§€ ë¡œë”© ì‹¤íŒ¨${reason ? ` (${reason})` : ''}:`, url)
    }
};

/**
 * í—¤ë” ì´ë¯¸ì§€ ê²€ìƒ‰ - ì—¬ëŸ¬ í›„ë³´ë¥¼ ì‹œë„í•˜ì—¬ ìµœì ì˜ ì´ë¯¸ì§€ ì°¾ê¸°
 * @param {string} pageUrl - í˜ì´ì§€ URL
 * @returns {Promise<string|null>} - ì´ë¯¸ì§€ URL ë˜ëŠ” null
 */
async function fetchHeaderImage(pageUrl) {
        try {
            Logger.image.loading(pageUrl);
            
            // ì´ë¯¸ì§€ íŒŒì¼ ì§ì ‘ ì‹œë„ ë°©ì‹
            const imageCandidates = ImageCandidateGenerator.generate(pageUrl);
            console.log('ğŸ¯ ì´ë¯¸ì§€ í›„ë³´ë“¤:', imageCandidates);
            
            for (const imageUrl of imageCandidates) {
                // ì‹¤íŒ¨í•œ URLì€ ê±´ë„ˆë›°ê¸° (ì„±ëŠ¥ ìµœì í™”)
                if (ImageCacheManager.isFailed(imageUrl)) {
                    console.log('â­ï¸ ìºì‹œëœ ì‹¤íŒ¨ URL ê±´ë„ˆë›°ê¸°:', imageUrl);
                    continue;
                }
                
                try {
                    const response = await fetch(imageUrl, { 
                        method: 'HEAD', // HEAD ìš”ì²­ìœ¼ë¡œ ë¹ ë¥¸ í™•ì¸
                        cache: 'force-cache'
                    });
                    
                    if (response.ok) {
                        Logger.image.found(imageUrl, 'HEAD ìš”ì²­');
                        return imageUrl;
                    } else {
                        ImageCacheManager.addFailed(imageUrl);
                    }
                } catch (e) {
                    Logger.image.failed(imageUrl, 'Fetch ì—ëŸ¬');
                    ImageCacheManager.addFailed(imageUrl);
                    continue;
                }
            }
            
            console.log('ğŸ’­ ëª¨ë“  ì´ë¯¸ì§€ í›„ë³´ ì‹¤íŒ¨, í˜ì´ì§€ ë©”íƒ€ë°ì´í„° ê²€ìƒ‰ ì‹œë„:', pageUrl);
            
            // ì´ë¯¸ì§€ ì§ì ‘ ì ‘ê·¼ ì‹¤íŒ¨ ì‹œ ê¸°ì¡´ ë°©ì‹ìœ¼ë¡œ fallback
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 3000);
            
            const response = await fetch(pageUrl, { 
                signal: controller.signal,
                cache: 'force-cache'
            });
            clearTimeout(timeoutId);
            
            if (!response.ok) {
                console.log('âŒ í˜ì´ì§€ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', response.status, pageUrl);
                return null;
            }
            
            const html = await response.text();
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            
            // 1. í—¤ë” ì´ë¯¸ì§€ ë©”íƒ€ë°ì´í„° ì°¾ê¸° (data-pagefind-meta="image" ì†ì„±) - ìµœìš°ì„ 
            const imageElement = doc.querySelector('[data-pagefind-meta="image"]');
            if (imageElement && imageElement.textContent) {
                let imageUrl = imageElement.textContent.trim();
                console.log('ğŸ“‹ Meta ì´ë¯¸ì§€ ë°œê²¬:', imageUrl);
                
                // ë¶€ì ì ˆí•œ ì´ë¯¸ì§€ ì œì™¸ (ì•„ë°”íƒ€, favicon ë“±)
                if (imageUrl.includes('avatar') || imageUrl.endsWith('img/avatar.png') || imageUrl.endsWith('/avatar.png') || 
                    imageUrl.includes('favicon') || imageUrl.endsWith('.ico')) {
                    console.log('ğŸš« ë¶€ì ì ˆí•œ ì´ë¯¸ì§€ ì œì™¸:', imageUrl);
                } else {
                    // í¬íŠ¸ ë¶ˆì¼ì¹˜ ë¬¸ì œ í•´ê²°: localhostì˜ ë‹¤ë¥¸ í¬íŠ¸ë¥¼ í˜„ì¬ í¬íŠ¸ë¡œ ë³€ê²½
                    if (imageUrl.includes('localhost:12345')) {
                        imageUrl = imageUrl.replace('localhost:12345', window.location.host);
                        console.log('ğŸ”§ í¬íŠ¸ ìˆ˜ì •:', imageUrl);
                    }
                    
                    // ìƒëŒ€ ê²½ë¡œ ì²˜ë¦¬
                    if (imageUrl.startsWith('/')) {
                        imageUrl = window.location.origin + imageUrl;
                    } else if (!imageUrl.startsWith('http')) {
                        // assets/images ë“±ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ê²½ìš°
                        if (!imageUrl.startsWith('assets/')) {
                            imageUrl = '/assets/images/' + imageUrl;
                        } else {
                            imageUrl = '/' + imageUrl;
                        }
                        imageUrl = window.location.origin + imageUrl;
                    }
                    console.log('âœ… Meta ì´ë¯¸ì§€ ì‚¬ìš©:', imageUrl);
                    return imageUrl;
                }
            } else {
                console.log('ğŸ“‹ Meta ì´ë¯¸ì§€ ì—†ìŒ');
            }
            // 2. Open Graph ì´ë¯¸ì§€ ì°¾ê¸°
            const ogImage = doc.querySelector('meta[property="og:image"]');
            if (ogImage && ogImage.content) {
                let imageUrl = ogImage.content.trim();
                console.log('ğŸŒ OG ì´ë¯¸ì§€ ë°œê²¬:', imageUrl);
                
                if (imageUrl.includes('avatar') || imageUrl.endsWith('img/avatar.png') || imageUrl.endsWith('/avatar.png') ||
                    imageUrl.includes('favicon') || imageUrl.endsWith('.ico')) {
                    console.log('ğŸš« OG ë¶€ì ì ˆí•œ ì´ë¯¸ì§€ ì œì™¸:', imageUrl);
                } else {
                    // í¬íŠ¸ ë¶ˆì¼ì¹˜ ë¬¸ì œ í•´ê²°
                    if (imageUrl.includes('localhost:12345')) {
                        imageUrl = imageUrl.replace('localhost:12345', window.location.host);
                        console.log('ğŸ”§ OG í¬íŠ¸ ìˆ˜ì •:', imageUrl);
                    }
                    
                    // ìƒëŒ€ ê²½ë¡œ ì²˜ë¦¬
                    if (imageUrl.startsWith('/')) {
                        imageUrl = window.location.origin + imageUrl;
                    }
                    console.log('âœ… OG ì´ë¯¸ì§€ ì‚¬ìš©:', imageUrl);
                    return imageUrl;
                }
            } else {
                console.log('ğŸŒ OG ì´ë¯¸ì§€ ì—†ìŒ');
            }
            
            // 3. Twitter Card ì´ë¯¸ì§€ ì°¾ê¸°
            const twitterImage = doc.querySelector('meta[name="twitter:image"], meta[property="twitter:image"]');
            if (twitterImage && twitterImage.content) {
                let imageUrl = twitterImage.content.trim();
                console.log('ğŸ¦ Twitter ì´ë¯¸ì§€ ë°œê²¬:', imageUrl);
                
                if (imageUrl.includes('avatar') || imageUrl.endsWith('img/avatar.png') || imageUrl.endsWith('/avatar.png') ||
                    imageUrl.includes('favicon') || imageUrl.endsWith('.ico')) {
                    console.log('ğŸš« Twitter ë¶€ì ì ˆí•œ ì´ë¯¸ì§€ ì œì™¸:', imageUrl);
                } else {
                    // í¬íŠ¸ ë¶ˆì¼ì¹˜ ë¬¸ì œ í•´ê²°
                    if (imageUrl.includes('localhost:12345')) {
                        imageUrl = imageUrl.replace('localhost:12345', window.location.host);
                        console.log('ğŸ”§ Twitter í¬íŠ¸ ìˆ˜ì •:', imageUrl);
                    }
                    
                    // ìƒëŒ€ ê²½ë¡œ ì²˜ë¦¬
                    if (imageUrl.startsWith('/')) {
                        imageUrl = window.location.origin + imageUrl;
                    }
                    console.log('âœ… Twitter ì´ë¯¸ì§€ ì‚¬ìš©:', imageUrl);
                    return imageUrl;
                }
            } else {
                console.log('ğŸ¦ Twitter ì´ë¯¸ì§€ ì—†ìŒ');
            }
            
            // 4. ì²« ë²ˆì§¸ ì´ë¯¸ì§€ ì°¾ê¸° (article ë‚´ì—ì„œ)
            const articleImages = doc.querySelectorAll('article img, .article-content img, .content img, main img');
            console.log('ğŸ“° Article ì´ë¯¸ì§€ ê°œìˆ˜:', articleImages.length);
            
            for (const articleImg of articleImages) {
                let src = articleImg.src || articleImg.getAttribute('src') || articleImg.getAttribute('data-src');
                if (!src) continue;
                
                console.log('ğŸ–¼ï¸ ë°œê²¬ëœ ì´ë¯¸ì§€:', src);
                
                if (src.includes('avatar') || src.endsWith('img/avatar.png') || src.endsWith('/avatar.png') ||
                    src.includes('favicon') || src.endsWith('.ico')) {
                    console.log('ğŸš« Article ë¶€ì ì ˆí•œ ì´ë¯¸ì§€ ì œì™¸:', src);
                    continue;
                }
                
                // í¬íŠ¸ ë¶ˆì¼ì¹˜ ë¬¸ì œ í•´ê²°
                if (src.includes('localhost:12345')) {
                    src = src.replace('localhost:12345', window.location.host);
                    console.log('ğŸ”§ Article í¬íŠ¸ ìˆ˜ì •:', src);
                }
                
                // ìƒëŒ€ ê²½ë¡œ ì²˜ë¦¬
                if (src.startsWith('/')) {
                    src = window.location.origin + src;
                }
                console.log('âœ… Article ì´ë¯¸ì§€ ì‚¬ìš©:', src);
                return src;
            }
            
            console.log('âŒ ì´ë¯¸ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ:', pageUrl);
            return null;
        } catch (error) {
            // AbortErrorëŠ” íƒ€ì„ì•„ì›ƒì´ë¯€ë¡œ ë¡œê·¸ ì¶œë ¥í•˜ì§€ ì•ŠìŒ
            if (error.name !== 'AbortError') {
                console.warn('Failed to fetch header image for:', pageUrl, error.message);
            }
            return null;
        }
    }

function triggerSearch() {
        const searchTerm = document.getElementById('pagefind-search-input').value;
        const pagefindInput = document.querySelector('.pagefind-ui__search-input');
        if (pagefindInput) {
            pagefindInput.value = searchTerm;
            pagefindInput.dispatchEvent(new Event('input'));
        }
        updateSearchResultTitle(searchTerm);
    }

function updateSearchResultTitle(searchTerm) {
        const resultTitle = document.querySelector('.search-result--title');
        if (searchTerm.trim()) {
            resultTitle.textContent = `"${searchTerm}"ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼`;
            resultTitle.style.display = 'block';
        } else {
            resultTitle.style.display = 'none';
        }
    }

    // ê²€ìƒ‰ ê²°ê³¼ ì¸ë„¤ì¼(pagefind-ui__result-thumb) ì™„ì „ ì‚­ì œ
    function removePagefindThumbs() {
        document.querySelectorAll('.pagefind-ui__result-thumb').forEach(el => el.remove());
    }

    // ê²€ìƒ‰ ê²°ê³¼ê°€ ê°±ì‹ ë  ë•Œë§ˆë‹¤ ì¸ë„¤ì¼ ì œê±°
    const searchResultNode = document.getElementById('search');
    if (searchResultNode) {
        const observer = new MutationObserver(removePagefindThumbs);
        observer.observe(searchResultNode, { childList: true, subtree: true });
        // ìµœì´ˆ 1íšŒë„ ì‹¤í–‰
        removePagefindThumbs();
    }

    // ê²€ìƒ‰ ì…ë ¥ í´ë¦¬ì–´ ë²„íŠ¼(pagefind-ui__search-clear) ì™„ì „ ì‚­ì œ (ê°•ë ¥ ë²„ì „)
    function removePagefindClearButtons() {
        document.querySelectorAll('.pagefind-ui__search-clear.svelte-e9gkc3').forEach(el => el.remove());
    }
    // í˜ì´ì§€ ì „ì²´ì—ì„œ ê°ì‹œ
    const bodyObserver = new MutationObserver(removePagefindClearButtons);
    bodyObserver.observe(document.body, { childList: true, subtree: true });
    // ìµœì´ˆ 1íšŒ, ê·¸ë¦¬ê³  0.5ì´ˆ ê°„ê²©ìœ¼ë¡œ ì—¬ëŸ¬ ë²ˆ ì‹œë„(ë™ì  ë Œë”ë§ ëŒ€ì‘)
    removePagefindClearButtons();
    for (let i = 1; i <= 5; i++) {
        setTimeout(removePagefindClearButtons, i * 200);
    }
</script>

<style>
    /* PagefindUI ê¸°ë³¸ ê²€ìƒ‰ ì…ë ¥ ìˆ¨ê¸°ê¸° */
    .pagefind-ui__search-input {
        display: none !important;
    }
    
    /* PagefindUI ê²°ê³¼ë¥¼ article-list--compact ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜ */
    .pagefind-ui__results {
        margin-top: 0;
    }
    
    .pagefind-ui__result {
        display: flex;
        align-items: flex-start;
        margin-bottom: 1.5rem;
        padding: 0;
        border: none;
        border-radius: 0;
        background: transparent;
        transition: none;
        transform: none;
        box-shadow: none;
        border-bottom: 1px solid var(--card-separator-color, #ddd);
        padding-bottom: 1.5rem;
        --pagefind-ui-border-width: 0 !important;
    }
    
    .pagefind-ui__result:hover {
        box-shadow: none;
        transform: none;
    }
    
    .pagefind-ui__result:last-child {
        border-bottom: none;
    }
    
    /* ê²€ìƒ‰ ê²°ê³¼ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
    .search-result-image {
        flex-shrink: 0;
        width: 120px;
        height: 120px;
        margin-top: 1.5rem;
        margin-left: 2.5rem;
        margin-right: 0;
        border-radius: 8px;
        overflow: hidden;
        background: var(--card-background, #ffffff);
        border: 1px solid var(--card-separator-color, #ddd);
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .search-result-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        /* GPU ê°€ì†ì„ ìœ„í•œ transform ì¶”ê°€ */
        transform: translateZ(0);
        /* ì´ë¯¸ì§€ ë¡œë”© ì¤‘ ê¹œë¹¡ì„ ë°©ì§€ */
        transition: opacity 0.2s ease;
    }
    
    .search-result-image img[src=""] {
        opacity: 0;
    }
    
    /* ê²€ìƒ‰ ê²°ê³¼ ë‚´ìš© ì˜ì—­ */
    .search-result-content {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    
    .pagefind-ui__result-link {
        color: var(--card-text-color-main, var(--body-text-color, #1a1a1a));
        text-decoration: none;
        font-weight: 700;
        font-size: 1.8rem;
        line-height: 1.3;
        display: block;
        margin-bottom: 0.8rem;
        transition: color 0.2s ease;
    }
    
    .pagefind-ui__result-link:hover {
        color: var(--accent-color, #007acc);
        text-decoration: underline;
    }
    
    /* ë‹¤í¬ ëª¨ë“œ ì§€ì› */
    @media (prefers-color-scheme: dark) {
        .pagefind-ui__result-link {
            color: var(--card-text-color-main, var(--body-text-color, #ffffff));
        }
        
        .pagefind-ui__result-link:hover {
            color: var(--accent-color, #4a9eff);
        }
        
        .search-result-image {
            background: var(--card-background, #2a2a2a);
            border-color: var(--card-separator-color, #444);
        }
    }
    
    /* ì‚¬ì´íŠ¸ í…Œë§ˆì˜ ë‹¤í¬ ëª¨ë“œ í´ë˜ìŠ¤ ì§€ì› */
    [data-scheme="dark"] .pagefind-ui__result-link,
    .dark .pagefind-ui__result-link,
    body.dark .pagefind-ui__result-link {
        color: var(--card-text-color-main, var(--body-text-color, #ffffff)) !important;
    }
    
    [data-scheme="dark"] .pagefind-ui__result-link:hover,
    .dark .pagefind-ui__result-link:hover,
    body.dark .pagefind-ui__result-link:hover {
        color: var(--accent-color, #4a9eff) !important;
    }
    
    [data-scheme="dark"] .search-result-image,
    .dark .search-result-image,
    body.dark .search-result-image {
        background: var(--card-background, #2a2a2a) !important;
        border-color: var(--card-separator-color, #444) !important;
    }
    
    .pagefind-ui__result-excerpt {
        color: var(--card-text-color-secondary, var(--body-text-color-secondary, #6b6b6b));
        line-height: 1.6;
        margin-bottom: 0.8rem;
        font-size: 0.95rem;
    }
    
    .pagefind-ui__result-excerpt mark {
        background-color: var(--accent-color-lighter, rgba(0, 122, 204, 0.1));
        color: var(--accent-color-darker, var(--accent-color, #007acc));
        padding: 0.1em 0.3em;
        border-radius: 3px;
        font-weight: 600;
    }
    
    /* ë‹¤í¬ ëª¨ë“œì—ì„œ í•˜ì´ë¼ì´íŠ¸ ìƒ‰ìƒ */
    @media (prefers-color-scheme: dark) {
        .pagefind-ui__result-excerpt {
            color: var(--card-text-color-secondary, var(--body-text-color-secondary, #999999));
        }
        
        .pagefind-ui__result-excerpt mark {
            background-color: var(--accent-color-lighter, rgba(74, 158, 255, 0.2));
            color: var(--accent-color, #4a9eff);
        }
    }
    
    [data-scheme="dark"] .pagefind-ui__result-excerpt,
    .dark .pagefind-ui__result-excerpt,
    body.dark .pagefind-ui__result-excerpt {
        color: var(--card-text-color-secondary, var(--body-text-color-secondary, #999999)) !important;
    }
    
    [data-scheme="dark"] .pagefind-ui__result-excerpt mark,
    .dark .pagefind-ui__result-excerpt mark,
    body.dark .pagefind-ui__result-excerpt mark {
        background-color: var(--accent-color-lighter, rgba(74, 158, 255, 0.2)) !important;
        color: var(--accent-color, #4a9eff) !important;
    }
    
    .pagefind-ui__result-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-top: 0.8rem;
    }
    
    .pagefind-ui__result-tag {
        background: var(--tag-background-color, rgba(0, 122, 204, 0.1));
        color: var(--tag-text-color, var(--accent-color, #007acc));
        padding: 0.3em 0.8em;
        border-radius: 15px;
        font-size: 0.8rem;
        font-weight: 500;
        transition: all 0.2s ease;
    }
    
    .pagefind-ui__result-tag:hover {
        background: var(--tag-background-color-hover, var(--accent-color, #007acc));
        color: var(--tag-text-color-hover, #ffffff);
    }
    
    .pagefind-ui__button {
        background: var(--accent-color, #007acc);
        color: white;
        border: none;
        padding: 0.8rem 1.5rem;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 1.5rem;
    }
    
    .pagefind-ui__button:hover {
        background: var(--accent-color-darker, #005a99);
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 122, 204, 0.3);
    }
    
    .pagefind-ui__message {
        text-align: center;
        color: var(--card-text-color-secondary, var(--body-text-color-secondary, #6b6b6b));
        font-style: italic;
        margin: 2rem 0;
        font-size: 1.1rem;
    }
    
    /* ê²€ìƒ‰ ê²°ê³¼ ì œëª© ìŠ¤íƒ€ì¼ */
    .search-result--title {
        display: none;
        font-size: 1.3rem;
        font-weight: 600;
        color: var(--card-text-color-main, var(--body-text-color, #1a1a1a));
        margin-bottom: 1.5rem;
    }
    
    .search-result--title.show {
        display: block;
    }
    
    /* ë‹¤í¬ ëª¨ë“œì—ì„œ ê²€ìƒ‰ ê²°ê³¼ ì œëª© */
    @media (prefers-color-scheme: dark) {
        .search-result--title {
            color: var(--card-text-color-main, var(--body-text-color, #ffffff));
        }
    }
    
    [data-scheme="dark"] .search-result--title,
    .dark .search-result--title,
    body.dark .search-result--title {
        color: var(--card-text-color-main, var(--body-text-color, #ffffff)) !important;
    }
    
    /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
    @media (max-width: 768px) {
        .pagefind-ui__result {
            flex-direction: column;
            align-items: stretch;
        }
        
        .search-result-image {
            width: 100%;
            height: 200px;
            margin-left: 0;
            margin-bottom: 1rem;
        }
        
        .search-result-content {
            align-items: flex-start;
        }
        
        .pagefind-ui__result-link {
            font-size: 1.5rem;
        }
    }

    .search-result-image--placeholder {
        background: transparent !important;
        border: none !important;
    }

    .pagefind-ui__form.svelte-e9gkc3:before {
        display: none !important;
        content: none !important;
    }

    .pagefind-ui__message.svelte-e9gkc3 {
        margin-left: 2rem;
        font-size: 1.3rem;
    }
</style>

{{ partialCached "footer/footer" . }}
{{ end }}

